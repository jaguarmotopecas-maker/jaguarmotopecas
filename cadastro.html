<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Cadastro de Cliente</title>

<!-- Firebase COMPAT -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="firebase.js"></script> <!-- ğŸ”¥ db nasce aqui -->

<link rel="stylesheet" href="style.css">
</head>
<body>

<h2>Cadastro de Cliente</h2>

<input id="nome" placeholder="Nome">
<input id="usuario" placeholder="CPF ou UsuÃ¡rio">
<input id="moto" placeholder="Moto">
<input id="ano" type="number" placeholder="Ano da Moto">
<input id="modelo" placeholder="Modelo">
<input id="placa" placeholder="Placa">
<input id="senha" type="password" placeholder="Senha">

<button onclick="salvar()">Salvar</button>

<script>
function salvar(){
  const nome = document.getElementById("nome").value.trim();
  const usuario = document.getElementById("usuario").value.trim();
  const moto = document.getElementById("moto").value.trim();
  const ano = document.getElementById("ano").value.trim();
  const modelo = document.getElementById("modelo").value.trim();
  const placa = document.getElementById("placa").value.trim();
  const senha = document.getElementById("senha").value.trim();

  if(!nome || !usuario || !moto || !ano || !modelo || !placa || !senha){
    alert("Preencha todos os campos!");
    return;
  }

  db.collection("clientes").add({
    nome,
    usuario,
    moto,
    ano,
    modelo,
    placa,
    senha,
    criadoEm: firebase.firestore.FieldValue.serverTimestamp()
  })
  .then(() => {
    alert("âœ… Cadastro realizado com sucesso!");
    window.location.href = "login.html";
  })
  .catch((error) => {
    alert("âŒ Erro ao salvar: " + error.message);
  });
}
</script>

</body>
</html>
