<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Cadastro de Cliente</title>

<!-- Firebase COMPAT (correto para esse formato) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<link rel="stylesheet" href="style.css">
</head>
<body>

<h2>Cadastro de Cliente</h2>

<input id="nome" placeholder="Nome">
<input id="usuario" placeholder="CPF ou Usuário">
<input id="moto" placeholder="Moto">
<input id="ano" type="number" placeholder="Ano da Moto">
<input id="modelo" placeholder="Modelo">
<input id="placa" placeholder="Placa">
<input id="senha" type="password" placeholder="Senha">

<button onclick="salvar()">Salvar</button>

<script>
/* CONFIGURAÇÃO FIREBASE */
const firebaseConfig = {
  apiKey: "AIzaSyC4T7yFe67rW7vCyTB9hARjfUOQwVCPmj0",
  authDomain: "jaguarmotopecasagenda.firebaseapp.com",
  projectId: "jaguarmotopecasagenda",
  storageBucket: "jaguarmotopecasagenda.firebasestorage.app",
  messagingSenderId: "601748187488",
  appId: "1:601748187488:web:76fc5ac3fa9ccab1c6d605"
};

/* INICIALIZA */
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

/* FUNÇÃO SALVAR */
function salvar(){
  db.collection("clientes").add({
    nome: document.getElementById("nome").value,
    usuario: document.getElementById("usuario").value,
    moto: document.getElementById("moto").value,
    ano: document.getElementById("ano").value,
    modelo: document.getElementById("modelo").value,
    placa: document.getElementById("placa").value,
    senha: document.getElementById("senha").value,
    criadoEm: firebase.firestore.FieldValue.serverTimestamp()
  }).then(() => {
    alert("Cadastro realizado com sucesso!");
    window.location.href = "login.html";
  }).catch((error) => {
    alert("Erro ao salvar: " + error.message);
  });
}
</script>

</body>
</html>
